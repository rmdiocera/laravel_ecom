<template>
  <Box>
    <EmptyState class="h-48 flex items-center justify-center border-none shadow-none mb-2">No images</EmptyState>
    <div class="flex items-center justify-between">
      <div class="flex flex-col">
        <Link :href="route('products.show', { product: product.id })">
          <ProductInfo :product="product" class="text-medium" />
        </Link>
        <ProductDesc :product="product" class="text-sm" />
      </div>
      <div>
        <Price :price="product.price" class="text-xl font-medium" />
      </div>
    </div>
    <div v-if="user && user.is_admin" class="flex items-center justify-end">
      <Link :href="route('products.edit', { product: product.id })" class="text-2xl">
        📝
      </Link>
      <Link :href="route('products.destroy', { product: product.id })" method="DELETE" as="button" class="text-2xl">
        🗑️
      </Link>
    </div>
  </Box>
</template>

<script setup>
import { Link, usePage } from '@inertiajs/vue3'
import Box from '@/Components/UI/Box.vue'
import ProductInfo from '@/Components/ProductInfo.vue'
import ProductDesc from '@/Components/ProductDesc.vue'
import EmptyState from '@/Components/UI/EmptyState.vue'
import Price from '@/Components/Price.vue'
import { computed } from 'vue'

defineProps({
  product: Object,
})

const user = computed(
  () => usePage().props.user,
)

</script>